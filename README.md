# Connect - NLP-Powered Newcomer Matching Platform

A web platform that helps newcomers in a city find friends and connections by analyzing their profiles and matching them with compatible people using ** Natural Language Processing (NLP)**.



---

## ğŸš€ Quick Start

### 1. Install Dependencies

Ensure you have Python 3.8+ installed.

```bash
# It is recommended to use a virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install required packages
pip install -r requirements.txt
```

### 2. Configure API Key

Get an API key from [OpenRouter](https://openrouter.ai/keys) (or OpenAI if configured) and create a `.env` file in the root directory:

```bash
# Create .env file and add your key
OPENROUTER_API_KEY=sk-or-v1-your_key_here
```

### 3. Run the Application

```bash
python app.py
```

Open your browser and navigate to the link

---

## ğŸ“‹ How It Works

1. **Registration**: User provides basic details (name, location, status).
2. **Adaptive Interview**: The system asks 5 dynamic questions. Each question is generated by an LLM based on the user's previous answers to dive deeper into their specific interests.
3. **NLP Pipeline**: Once the interview is complete, the backend:
   - Summarizes the profile.
   - Extracts key entities, preferences, and constraints.
   - Generates a vector embedding.
   - Stores the enriched profile in the database.
4. **Matching**: The user can view their top 3 matches. The system uses:
   - **Vector Search** for initial candidates.
   - **Conflict Filtering** to remove incompatible users.
   - **MMR** to rank the best and most diverse matches.
   - **NLG** to write a custom ice-breaker for each match.

---

## ğŸ“ Project Structure

```
nlp_proj/
â”œâ”€â”€ app.py                    # Main Flask application and routes
â”œâ”€â”€ src/                      # Source code package
â”‚   â”œâ”€â”€ nlp_processor.py          # Core NLP logic: Summarization, NER, Extraction
â”‚   â”œâ”€â”€ vector_database.py        # Embedding generation and vector storage/search
â”‚   â”œâ”€â”€ matching_engine.py        # Matching logic: Conflicts, MMR, Ice-breakers
â”‚   â”œâ”€â”€ adaptive_question_engine.py # LLM-based adaptive question generation
â”‚   â””â”€â”€ adaptive_questions_template.py # HTML template for questions
â”œâ”€â”€ data/                     # Data storage
â”‚   â”œâ”€â”€ users.json                # JSON database of user profiles
â”‚   â”œâ”€â”€ user_embeddings.json      # JSON vector index for similarity search
â”‚   â”œâ”€â”€ decision_tree.json        # Decision tree configuration
â”‚   â””â”€â”€ translations_cache.json   # Cache for translations
â”œâ”€â”€ requirements.txt          # Python dependencies
â””â”€â”€ .env                      # Environment variables (API Key)
```

---

## ğŸ› ï¸ Tech Stack

- **Backend**: Flask (Python)
- **NLP Models**: 
  - `sentence-transformers/all-MiniLM-L6-v2` (Embeddings)
  - `en_core_web_sm` (spaCy NER)
  - `deepseek/deepseek-r1-0528:free` (LLM via OpenRouter)
- **Libraries**: `scikit-learn`, `numpy`, `scipy`, `openai`, `python-dotenv`
- **Frontend**: HTML5, CSS3 (Modern, responsive UI)

## ï¿½ API Endpoints

- `POST /register`: Register a new user.
- `POST /api/get-next-question`: Generate the next adaptive question.
- `POST /api/complete-questions`: Finalize profile and run NLP pipeline.
- `GET /api/matches/<user_id>`: Retrieve top recommendations.
- `GET /matches`: View matches UI page.


